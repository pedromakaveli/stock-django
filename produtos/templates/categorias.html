<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-900">
    <div class="min-h-screen flex">
      <!-- Menu lateral -->
      <header class="flex justify-between flex-col bg-gray-950 border-r-2 border-solid border-gray-700 min-h-screen w-64 text-slate-950 fixed top-0 left-0 p-6">
        
        <div>

          <div class="flex justify-center">
            <img class="w-20" src="https://logosandtypes.com/wp-content/uploads/2020/08/stock-x.svg"/>
          </div>
  
  
          <ul id="dropdown_list" class="self-start mt-40 text-gray-200 font-sans flex flex-col gap-8" >
            <li class="text-xl dropdown-btn"><span class="py-2 px-4 rounded-sm text-[1.125rem]">Produtos</span>
              <ul class="dropdown hidden ml-4 mt-4 text-white text-[1rem]">
                <li class="mb-4"><a href="{% url 'criar_produto' %}" class="hover:text-violet-300">Cadastrar Produtos</a></li>
                <li class="mb-4"><a href="{% url 'index' %}" class="hover:text-violet-300">Listar Produtos</a></li>
              </ul>
            </li>

            <li class="text-xl dropdown-btn"><span class="py-2 px-4 rounded-sm text-[1.125rem]">Marcas</span>
              <ul class="dropdown hidden ml-4 mt-4 text-white text-[1rem]">
                <li class="mb-4"><a href="{% url 'criar_marca' %}" class="hover:text-violet-300">Cadastrar Marca</a></li>
                <li class="mb-4"><a href="{% url 'marcas' %}" class="hover:text-violet-300">Listar Marcas</a></li>
              </ul>
            </li>

            <li class="text-xl dropdown-btn"><span class="py-2 px-4 rounded-sm text-[1.125rem]">Categorias</span>
              <ul class="dropdown hidden ml-4 mt-4 text-white text-[1rem]">
                <li class="mb-4"><a href="{% url 'criar_tipo' %}" class="hover:text-violet-300">Cadastrar Categoria</a></li>
                <li class="mb-4"><a href="{% url 'categorias' %}" class="hover:text-violet-300">Categorias</a></li>
              </ul>
            </li>
          </ul>
        </div>

          
        <a class="align-self-end w-full bg-red-700 text-white px-8 py-4 text-lg text-center rounded-lg">Sair</a>
      </header>

      <!-- ConteÃºdo principal -->
      <main class="ml-64 flex-1">
        

        <div class="mt-12 w-full container mx-auto min-h-screen items-center content-center">


            <div class="relative overflow-x-auto sm:rounded-lg flex flex-col items-center gap-20">
                <form class="bg-gray-950/30 rounded-xl w-[50vw] py-12 px-8" action="{% url 'criar_tipo' %}" method="POST"> {% csrf_token %}
                    <div class="grid gap-4 mb-12">
                        <label class="text-gray-200 justify-self-start text-lg" for="tipo">Novo tipo</label>
                        <input class="bg-gray-700 text-white rounded-lg py-3 px-4" id="tipo" name="tipo" type="text"></input>
                    </div>
    
    
                    <input class="w-full bg-green-600 rounded-md text-center text-lg text-gray-900 px-8 p-4" value="Cadastrar" type="submit"></input>
                </form> 

                <table class="w-[50vw] text-sm text-left rtl:text-right text-gray-500">
                    <thead class="text-xs text-gray-700 uppercase bg-gray-950">
                        <tr>

                            <th scope="col" class="px-6 py-3">
                                Categoria
                            </th>

                            <th scope="col" class="px-6 py-3">
                                Editar
                            </th>
                            <th scope="col" class="px-6 py-3">
                                Deletar
                            </th>

                        </tr>
                    </thead>
                    <tbody>

                        {% for tipo in tipos %}
                            <tr class="bg-gray-950">
                                <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                                    <form action="{% url 'atualizar_tipo' tipo.id %}" method="POST"> {%csrf_token%}
                                    <input class="w-[500px] px-6 py-4 bg-gray-900 rounded-xl font-medium text-gray-900 whitespace-nowrap dark:text-white" name="tipo" type="text" value="{{tipo.nome}}"></input>
                                </th>

                                <td class="px-6 py-4">
                                    <input type="submit" value="Editar" class="bg-yellow-600 px-8 py-4 text-white rounded-lg"></input>
                                </form>

                                </td>
                                <td class="px-6 py-4">
                                    
                                    <a href="{% url 'deletar_tipo' tipo.id  %}" class="bg-red-600 px-8 py-4 text-white rounded-lg">Deletar</a>
                                </td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            
        </div>
        
      </main>
    </div>
  </body>
  <script>
    const dropdown_list = document.querySelectorAll("#dropdown_list li.dropdown-btn");
    const dropdown_list_span = document.querySelectorAll("#dropdown_list span");
    const dropdown = document.querySelectorAll(".dropdown");

    console.log(dropdown_list_span)

    dropdown_list.forEach((item, key) => {
      item.addEventListener("click", () => {
        dropdown[key].classList.toggle("hidden");
        dropdown[key].classList.toggle("block");

        dropdown_list_span[key].classList.toggle("bg-gray-900");
        dropdown_list_span[key].classList.toggle("text-gray-200");
      })
    })


  </script>
</html>

