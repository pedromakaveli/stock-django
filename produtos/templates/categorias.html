<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <script src="https://cdn.tailwindcss.com"></script>
  </head>
  <body class="bg-gray-900">
    <div class="min-h-screen flex">
      <!-- Menu lateral -->
      <header class="flex justify-between flex-col bg-gray-950 border-r-2 border-solid border-gray-700 min-h-screen w-64 text-slate-950 fixed top-0 left-0 p-6">
        
        <div>

          <div class="flex justify-center">
           <svg class="w-44" viewBox="0 0 64 64" fill="none" xmlns="http://www.w3.org/2000/svg"><g id="SVGRepo_bgCarrier" stroke-width="0"></g><g id="SVGRepo_tracerCarrier" stroke-linecap="round" stroke-linejoin="round"></g><g id="SVGRepo_iconCarrier"><path fill-rule="evenodd" clip-rule="evenodd" d="M10.633 32.181c-.009 1.587 1.154 2.533 3.01 2.103v-4.205c-1.879-.572-3.003.586-3.01 2.102zM13.7 24h2.556v12.102c-2.45.4-4.798.655-6.477-.284-2.162-1.21-2.336-5.05-.625-6.761.868-.868 2.614-1.478 4.489-1.08v-3.806c-.005-.081-.01-.162.056-.171zM20.405 26.67h-2.557V24h2.557v2.67zM51.085 34.397c2.787 1.083 3.096-4.989.284-4.431-1.746.346-1.69 3.885-.284 4.431zm.114-6.534c2.128-.227 3.734.712 4.375 2.16 1.093 2.469-.06 5.302-1.819 6.135-.91.432-1.865.473-2.727.398-2.664-.232-4.344-2.947-3.409-5.965.147-.473.311-.762.398-.91.58-.984 1.557-1.644 3.182-1.818zM23.927 33.431c-.707 1.189 1.07 1.474 2.216 1.137v-1.761c-.88.122-1.883.065-2.216.624zm4.489 2.784c-2.112.122-5.322.841-6.477-.568-.679-.828-.606-2.407 0-3.181.783-1.001 2.492-1.22 4.034-1.364.14-.345.045-.906-.114-1.136-1.41-.36-2.812.197-3.807.625v-1.989c1.503-.69 4.982-1.417 6.023.17.547.834.34 2.288.34 3.58v3.863zM37.393 36.33h-2.557v-3.296c0-1.085.175-2.461-.398-2.898-.449-.342-1.514-.17-2.159 0v6.193h-2.557v-7.897c2.614-.68 7.332-1.407 7.67 1.875.168 1.618-.123 4.045 0 6.022zM41.2 33.602c.43.696 1.594.957 2.556.511a81.771 81.771 0 0 1-.057-4.09c-2.21-.584-3.526 1.918-2.5 3.579zm6.42-5.398c-.228.682-.561 1.258-.853 1.875-.263.06-.492-.104-.625 0-.058 2.77.59 6.524-.511 8.523-.663 1.203-1.884 1.975-3.75 2.102a7.634 7.634 0 0 1-3.409-.511v-2.387c1.166.681 4.113 1.236 4.943-.17.244-.414.229-.842.34-1.477-.533.028-1.052.275-1.704.284-2.679.035-4.337-2.098-3.693-5.057.25-1.144.92-2.066 1.819-2.613 1.865-1.138 4.734-1.051 7.442-.569z" fill="#ffffff"></path><path fill-rule="evenodd" clip-rule="evenodd" d="M20.405 28.023c-.003 1.882-.003 3.235-.003 5.522-.108 2.248-.083 4.038-.906 5.113-.163.212-.507.522-.796.739-.242.182-.703.552-.965.568-.265.016-.943-.367-1.25-.511-.404-.19-.777-.442-1.194-.568.973-.603 1.896-1.055 2.273-2.273.328-1.06.284-2.595.284-4.09 0-1.478.007-3.196.007-4.5h2.55z" fill="#ffffff"></path></g></svg>
          </div>
  
  
          <ul id="dropdown_list" class="self-start mt-40 text-gray-200 font-sans flex flex-col gap-8" >
            <li class="text-xl dropdown-btn"><span class="py-2 px-4 rounded-sm text-[1.125rem]">Produtos</span>
              <ul class="dropdown hidden ml-4 mt-4 text-white text-[1rem]">
                <li class="mb-4"><a href="{% url 'criar_produto' %}" class="hover:text-violet-300">Cadastrar Produtos</a></li>
                <li class="mb-4"><a href="{% url 'index' %}" class="hover:text-violet-300">Listar Produtos</a></li>
              </ul>
            </li>

            <li class="text-xl dropdown-btn"><span class="py-2 px-4 rounded-sm text-[1.125rem]">Marcas</span>
              <ul class="dropdown hidden ml-4 mt-4 text-white text-[1rem]">
                <li class="mb-4"><a href="{% url 'criar_marca' %}" class="hover:text-violet-300">Cadastrar Marca</a></li>
                <li class="mb-4"><a href="{% url 'marcas' %}" class="hover:text-violet-300">Listar Marcas</a></li>
              </ul>
            </li>

            <li class="text-xl dropdown-btn"><span class="py-2 px-4 rounded-sm text-[1.125rem]">Categorias</span>
              <ul class="dropdown hidden ml-4 mt-4 text-white text-[1rem]">
                <li class="mb-4"><a href="{% url 'criar_tipo' %}" class="hover:text-violet-300">Cadastrar Categoria</a></li>
                <li class="mb-4"><a href="{% url 'categorias' %}" class="hover:text-violet-300">Categorias</a></li>
              </ul>
            </li>
          </ul>
        </div>

          
        <a class="align-self-end w-full bg-red-700 text-white px-8 py-4 text-lg text-center rounded-lg">Sair</a>
      </header>

      <!-- ConteÃºdo principal -->
      <main class="ml-64 flex-1">
        

        <div class="mt-12 w-full container mx-auto min-h-screen items-center content-center">


            <div class="relative overflow-x-auto sm:rounded-lg flex flex-col items-center gap-20">
                <form class="bg-gray-950/30 rounded-xl w-[50vw] py-12 px-8" action="{% url 'criar_tipo' %}" method="POST"> {% csrf_token %}
                    <div class="grid gap-4 mb-12">
                        <label class="text-gray-200 justify-self-start text-lg" for="tipo">Novo tipo</label>
                        <input class="bg-gray-700 text-white rounded-lg py-3 px-4" id="tipo" name="tipo" type="text"></input>
                    </div>
    
    
                    <input class="w-full bg-green-600 rounded-md text-center text-lg text-gray-900 px-8 p-4" value="Cadastrar" type="submit"></input>
                </form> 

                <table class="w-[50vw] text-sm text-left rtl:text-right text-gray-500">
                    <thead class="text-xs text-gray-700 uppercase bg-gray-950">
                        <tr>

                            <th scope="col" class="px-6 py-3">
                                Categoria
                            </th>

                            <th scope="col" class="px-6 py-3">
                                Editar
                            </th>
                            <th scope="col" class="px-6 py-3">
                                Deletar
                            </th>

                        </tr>
                    </thead>
                    <tbody>

                        {% for tipo in tipos %}
                            <tr class="bg-gray-950">
                                <th scope="row" class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                                    <form action="{% url 'atualizar_tipo' tipo.id %}" method="POST"> {%csrf_token%}
                                    <input class="w-[500px] px-6 py-4 bg-gray-900 rounded-xl font-medium text-gray-900 whitespace-nowrap dark:text-white" name="tipo" type="text" value="{{tipo.nome}}"></input>
                                </th>

                                <td class="px-6 py-4">
                                    <input type="submit" value="Editar" class="bg-yellow-600 px-8 py-4 text-white rounded-lg"></input>
                                </form>

                                </td>
                                <td class="px-6 py-4">
                                    
                                    <a href="{% url 'deletar_tipo' tipo.id  %}" class="bg-red-600 px-8 py-4 text-white rounded-lg">Deletar</a>
                                </td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
            
        </div>
        
      </main>
    </div>
  </body>
  <script>
    const dropdown_list = document.querySelectorAll("#dropdown_list li.dropdown-btn");
    const dropdown_list_span = document.querySelectorAll("#dropdown_list span");
    const dropdown = document.querySelectorAll(".dropdown");

    console.log(dropdown_list_span)

    dropdown_list.forEach((item, key) => {
      item.addEventListener("click", () => {
        dropdown[key].classList.toggle("hidden");
        dropdown[key].classList.toggle("block");

        dropdown_list_span[key].classList.toggle("bg-gray-900");
        dropdown_list_span[key].classList.toggle("text-gray-200");
      })
    })


  </script>
</html>

